{% extends "base.html" %} {% block content %}
<div class="container mt-5">
  <h1 class="text-center">Admin Dashboard</h1>
  <hr />

  <!-- About Section -->
  <section id="about-section">
    <div class="text-right">
      <a href="{{ url_for('add_about') }}" class="btn btn-primary mb-3"
        >Add About</a
      >
    </div>
    <div style="display: flex; justify-content: flex-end; align-items: center">
      <form
        action="{{ url_for('edit_about') }}"
        method="POST"
        style="display: inline; margin-right: 10px"
      >
        <button type="submit" class="btn btn-warning">Edit</button>
      </form>
    </div>
  </section>
  <hr />

  <!-- Projects Section -->
  <section id="projects-section">
    <h2>Projects Section</h2>
    <div class="text-right">
      <a href="{{ url_for('add_project') }}" class="btn btn-primary mb-3"
        >Add a Project</a
      >
    </div>

    <!-- Form to enter project number -->
    <div class="row">
      <div class="col-md-6">
        <form
          action="{{ url_for('select_project', project_id=0) }}"
          method="POST"
        >
          <div class="form-group">
            <label for="projectNumber">Enter Project Number</label>
            <input
              type="number"
              class="form-control"
              id="projectNumber"
              name="project_number"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">Select Project</button>
        </form>
      </div>
    </div>
    <hr />

    <!-- Placeholder for project actions -->
    {% for project in projects %}
    <div style="display: flex; justify-content: flex-end; align-items: center">
      <form
        action="{{ url_for('edit_projects', project_id=project.id) }}"
        method="POST"
        style="display: inline; margin-right: 10px"
      >
        <button type="submit" class="btn btn-warning">Edit</button>
      </form>
      <form
        action="{{ url_for('delete_project', project_id=project.id) }}"
        method="POST"
        style="display: inline"
      >
        <button
          type="submit"
          class="btn btn-danger delete-button"
          data-project-id="{{ project.id }}"
        >
          Delete
        </button>
      </form>
    </div>
    {% endfor %}
  </section>
  <hr />

  <!-- Blogs Section -->
  <section id="blogs-section">
    <h2>Blogs Section</h2>
    <div class="text-right">
      <a href="{{ url_for('create_blog') }}" class="btn btn-primary mb-3"
        >Write a Blog Post</a
      >
    </div>
    {% for post in posts %}
    <div style="display: flex; justify-content: flex-end; align-items: center">
      <form
        action="{{ url_for('update_blog', blog_id=post.id) }}"
        method="POST"
        style="display: inline; margin-right: 10px"
      >
        <button type="submit" class="btn btn-warning">Edit</button>
      </form>
      <form
        action="{{ url_for('delete_blog', blog_id=post.id) }}"
        method="POST"
        style="display: inline"
      >
        <button
          type="submit"
          class="btn btn-danger delete-button"
          data-post-id="{{ post.id }}"
        >
          Delete
        </button>
      </form>
    </div>
    {% endfor %}
  </section>
</div>
<script src="{{ url_for('static', filename='js/delete_blog.js') }}"></script>
{% endblock %}
